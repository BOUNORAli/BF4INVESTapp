spring:
  application:
    name: bf4-invest-backend
  
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/bf4invest}
      database: bf4invest
  
  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME:}
    password: ${SMTP_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
  
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB

server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: /api

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:bf4invest-secret-key-change-in-production-minimum-256-bits}
  expiration: ${JWT_EXPIRATION:3600000} # 1 hour in milliseconds (access token)
  refresh-expiration: ${JWT_REFRESH_EXPIRATION:604800000} # 7 days in milliseconds (refresh token)

# Application Configuration
app:
  name: BF4 Invest
  bc:
    number-prefix: BF4-BC
  facture:
    achat:
      numero-prefix: FA
    vente:
      numero-prefix: FV
  default-payment-term-days: 30
  purchase-invoice-due-days: 60 # 2 months for purchase invoices

# Supabase (pour fichiers Facture Achat)
supabase:
  url: ${SUPABASE_URL:}
  service-key: ${SUPABASE_SERVICE_KEY:}
  bucket:
    factures: ${SUPABASE_BUCKET_FACTURES:factures-achat}

# Cloudinary
cloudinary:
  cloud-name: ${CLOUDINARY_CLOUD_NAME:}
  api-key: ${CLOUDINARY_API_KEY:}
  api-secret: ${CLOUDINARY_API_SECRET:}
  folder:
    factures: ${CLOUDINARY_FOLDER_FACTURES:bf4/factures}
    releves: ${CLOUDINARY_FOLDER_RELEVES:bf4/releves}

# Google Gemini
gemini:
  api-key: ${GEMINI_API_KEY:}
  api-url: ${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1beta}
  model: ${GEMINI_MODEL:gemini-1.5-flash-latest}

# CORS Configuration
cors:
  allowed:
    origins: ${CORS_ALLOWED_ORIGINS:http://localhost:4200,http://localhost:3000,http://127.0.0.1:4200}
  
logging:
  level:
    com.bf4invest: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
    org.springframework.data.mongodb: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"


